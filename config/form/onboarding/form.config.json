{
  "formConfig": {
    "personalInformation": {
      "title": "Personal Information",
      "fields": [
        {
          "name": "mobileNumber",
          "label": "Mobile Number",
          "type": "text",
          "required": true,
          "regex": "^\\+251[0-9]{9}$|^0[0-9]{9}$",
          "errorMessage": "Please enter a valid Ethiopian mobile number (starting with +251 or 0, followed by 9 digits)",
          "placeholder": "+251911234567 or 0911234567"
        },
        {
          "name": "firstName",
          "label": "First Name",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 50,
          "regex": "^[A-Za-z\\s]+$",
          "errorMessage": "First name must be between 2-50 characters and contain only letters"
        },
        {
          "name": "middleName",
          "label": "Father's Name",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 50,
          "regex": "^[A-Za-z\\s]+$",
          "errorMessage": "Father's name must be between 2-50 characters and contain only letters"
        },
        {
          "name": "lstName",
          "label": "Grandfather's Name",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 50,
          "regex": "^[A-Za-z\\s]+$",
          "errorMessage": "Grandfather's name must be between 2-50 characters and contain only letters"
        },
        {
          "name": "dateOfBirth",
          "label": "Date of Birth",
          "type": "date",
          "required": true,
          "validations": {
            "minAge": 18,
            "maxAge": 100
          },
          "errorMessage": "You must be at least 18 years old to register"
        },
        {
          "name": "gender",
          "label": "Gender",
          "type": "select",
          "required": true,
          "options": [
            { "value": "male", "label": "Male" },
            { "value": "female", "label": "Female" }
          ]
        },
        {
          "name": "maritalStatus",
          "label": "Marital Status",
          "type": "select",
          "required": true,
          "options": [
            { "value": "single", "label": "Single" },
            { "value": "married", "label": "Married" },
            { "value": "divorced", "label": "Divorced" },
            { "value": "widowed", "label": "Widowed" }
          ]
        },
        {
          "name": "nationality",
          "label": "Nationality",
          "type": "text",
          "required": true,
          "defaultValue": "Ethiopian"
        }
      ]
    },
    "addressInformation": {
      "title": "Address Information",
      "fields": [
        {
          "name": "customerAddress.birthPlace",
          "label": "Birth Place (Region)",
          "type": "select",
          "required": true,
          "options": [
            { "value": "tigray", "label": "Tigray" },
            { "value": "afar", "label": "Afar" },
            { "value": "amhara", "label": "Amhara" },
            { "value": "oromia", "label": "Oromia" },
            { "value": "benishangul gumuz", "label": "Benishangul Gumuz" },
            { "value": "gambela", "label": "Gambela" },
            { "value": "sidama", "label": "Sidama" },
            { "value": "addis ababa", "label": "Addis Ababa" },
            { "value": "somali", "label": "Somali" },
            { "value": "dire dawa", "label": "Dire Dawa" },
            { "value": "harari", "label": "Harari" },
            {
              "value": "south ethiopia regional state",
              "label": "South Ethiopia Regional State"
            },
            { "value": "south-west", "label": "South-West" }
          ]
        },
        {
          "name": "customerAddress.regionId",
          "label": "Current Region",
          "type": "select",
          "required": true,
          "options": [
            { "value": "tigray", "label": "Tigray" },
            { "value": "afar", "label": "Afar" },
            { "value": "amhara", "label": "Amhara" },
            { "value": "oromia", "label": "Oromia" },
            { "value": "benishangul gumuz", "label": "Benishangul Gumuz" },
            { "value": "gambela", "label": "Gambela" },
            { "value": "sidama", "label": "Sidama" },
            { "value": "addis ababa", "label": "Addis Ababa" },
            { "value": "somali", "label": "Somali" },
            { "value": "dire dawa", "label": "Dire Dawa" },
            { "value": "harari", "label": "Harari" },
            {
              "value": "south ethiopia regional state",
              "label": "South Ethiopia Regional State"
            },
            { "value": "south-west", "label": "South-West" }
          ],
          "dependentFields": ["customerAddress.subCityId"]
        },
        {
          "name": "customerAddress.subCityId",
          "label": "Sub City/Zone",
          "type": "select",
          "required": true,
          "dynamicOptions": {
            "dependsOn": "customerAddress.regionId",
            "endpoint": "/api/sub-cities/{customerAddress.regionId}"
          }
        },
        {
          "name": "customerAddress.woreda",
          "label": "Woreda",
          "type": "text",
          "required": true,
          "regex": "^[0-9]{1,2}$",
          "errorMessage": "Please enter a valid woreda number (1-99)"
        },
        {
          "name": "customerAddress.houseNumber",
          "label": "House Number",
          "type": "text",
          "required": false,
          "regex": "^[A-Za-z0-9\\-\\/]{1,10}$",
          "errorMessage": "Please enter a valid house number"
        }
      ]
    },
    "preferenceAndEducation": {
      "title": "Preferences & Education",
      "fields": [
        {
          "name": "languagePreference",
          "label": "Language Preference",
          "type": "select",
          "required": true,
          "options": [
            { "value": "english", "label": "English" },
            { "value": "amharic", "label": "Amharic" },
            { "value": "oromiffa", "label": "Oromiffa" },
            { "value": "tigrigna", "label": "Tigrigna" },
            { "value": "somali", "label": "Somali" }
          ]
        },
        {
          "name": "educationLevel",
          "label": "Education Level",
          "type": "select",
          "required": true,
          "options": [
            { "value": "none", "label": "None" },
            { "value": "primary", "label": "Primary" },
            { "value": "secondary", "label": "Secondary" },
            { "value": "tvet", "label": "TVET" },
            { "value": "diploma", "label": "Diploma" },
            { "value": "bachelors degree", "label": "Bachelor's Degree" },
            { "value": "masters degree", "label": "Master's Degree" },
            { "value": "phd and above", "label": "PhD and Above" }
          ]
        }
      ]
    },
    "identificationDocuments": {
      "title": "Identification Documents",
      "fields": [
        {
          "name": "customerIdentifications.idType",
          "label": "ID Type",
          "type": "select",
          "required": true,
          "options": [
            { "value": "nationalId", "label": "National ID" },
            { "value": "kebele_Id", "label": "Kebele ID" },
            { "value": "drivers_license", "label": "Driver's License" },
            { "value": "passport", "label": "Passport" }
          ]
        },
        {
          "name": "customerIdentifications.idNumber",
          "label": "ID Number",
          "type": "text",
          "required": true,
          "regex": {
            "conditionalRegex": [
              {
                "condition": "customerIdentifications.idType === 'passport'",
                "regex": "^[A-Z]{2}[0-9]{7}$",
                "errorMessage": "Passport number should be 2 letters followed by 7 digits"
              },
              {
                "condition": "customerIdentifications.idType === 'drivers_license'",
                "regex": "^[0-9]{10}$",
                "errorMessage": "Driver's license should be 10 digits"
              },
              {
                "condition": "default",
                "regex": "^[A-Za-z0-9\\-\\/]{4,20}$",
                "errorMessage": "Please enter a valid ID number (4-20 characters)"
              }
            ]
          }
        },
        {
          "name": "customerIdentifications.issuedDate",
          "label": "Issue Date",
          "type": "date",
          "required": true,
          "validations": {
            "notInFuture": true,
            "maxPast": "20y"
          }
        },
        {
          "name": "customerIdentifications.expiryDate",
          "label": "Expiry Date",
          "type": "date",
          "required": true,
          "validations": {
            "minFuture": "3m"
          },
          "errorMessage": "ID must be valid for at least 3 more months"
        }
      ]
    },
    "emergencyContacts": {
      "title": "Emergency Contacts",
      "isArray": true,
      "minItems": 1,
      "maxItems": 3,
      "fields": [
        {
          "name": "fullNames",
          "label": "Full Name",
          "type": "text",
          "required": true,
          "minLength": 3,
          "maxLength": 100,
          "regex": "^[A-Za-z\\s]+$",
          "errorMessage": "Please enter a valid name (letters only)"
        },
        {
          "name": "mobileNumber",
          "label": "Mobile Number",
          "type": "text",
          "required": true,
          "regex": "^\\+251[0-9]{9}$|^0[0-9]{9}$",
          "errorMessage": "Please enter a valid Ethiopian mobile number"
        },
        {
          "name": "relationship",
          "label": "Relationship",
          "type": "select",
          "required": true,
          "options": [
            { "value": "spouse", "label": "Spouse" },
            { "value": "parent", "label": "Parent" },
            { "value": "sibling", "label": "Sibling" },
            { "value": "child", "label": "Child" },
            { "value": "relative", "label": "Other Relative" },
            { "value": "friend", "label": "Friend" },
            { "value": "colleague", "label": "Colleague" }
          ]
        },
        {
          "name": "address",
          "label": "Address",
          "type": "text",
          "required": true,
          "minLength": 5,
          "maxLength": 200
        },
        {
          "name": "email",
          "label": "Email",
          "type": "email",
          "required": false,
          "regex": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
          "errorMessage": "Please enter a valid email address"
        }
      ]
    },
    "incomeSource": {
      "title": "Source of Income",
      "fields": [
        {
          "name": "sourceOfIncome",
          "label": "Primary Source of Income",
          "type": "radio",
          "required": true,
          "options": [
            { "value": "employment", "label": "Employment" },
            { "value": "business", "label": "Business" }
          ],
          "conditionalSections": [
            {
              "condition": "sourceOfIncome === 'employment'",
              "showSections": ["employmentInfo"],
              "hideSections": ["businessInfo"]
            },
            {
              "condition": "sourceOfIncome === 'business'",
              "showSections": ["businessInfo"],
              "hideSections": ["employmentInfo"]
            }
          ]
        }
      ]
    },
    "employmentInfo": {
      "title": "Employment Information",
      "isArray": true,
      "minItems": 1,
      "maxItems": 2,
      "condition": "sourceOfIncome === 'employment'",
      "fields": [
        {
          "name": "employerName",
          "label": "Employer Name",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 100
        },
        {
          "name": "employerAddress",
          "label": "Employer Address",
          "type": "text",
          "required": true,
          "minLength": 5,
          "maxLength": 200
        },
        {
          "name": "contactPersonName",
          "label": "Contact Person Name",
          "type": "text",
          "required": true,
          "minLength": 3,
          "maxLength": 100
        },
        {
          "name": "jobTitle",
          "label": "Job Title",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 100
        },
        {
          "name": "employeeIdNumber",
          "label": "Employee ID Number",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 50
        },
        {
          "name": "monthlyIncome",
          "label": "Monthly Income (ETB)",
          "type": "number",
          "required": true,
          "min": 1000,
          "errorMessage": "Monthly income must be at least 1,000 ETB"
        },
        {
          "name": "startDate",
          "label": "Employment Start Date",
          "type": "date",
          "required": true,
          "validations": {
            "notInFuture": true
          }
        },
        {
          "name": "endDate",
          "label": "Employment End Date (if applicable)",
          "type": "date",
          "required": false
        },
        {
          "name": "employmentType",
          "label": "Employment Type",
          "type": "select",
          "required": true,
          "options": [
            { "value": "full-time", "label": "Full-time" },
            { "value": "part-time", "label": "Part-time" },
            { "value": "contract", "label": "Contract" },
            { "value": "freelance", "label": "Freelance" },
            { "value": "other", "label": "Other" }
          ]
        },
        {
          "name": "paymentFrequency",
          "label": "Payment Frequency",
          "type": "select",
          "required": true,
          "options": [
            { "value": "monthly", "label": "Monthly" },
            { "value": "weekly", "label": "Weekly" }
          ]
        },
        {
          "name": "verificationDocumentUrl",
          "label": "Upload Employment Verification Document",
          "type": "file",
          "required": true,
          "acceptedFileTypes": ["application/pdf", "image/jpeg", "image/png"],
          "maxFileSize": 5242880,
          "errorMessage": "Please upload a PDF or image file (max 5MB)"
        }
      ]
    },
    "businessInfo": {
      "title": "Business Information",
      "condition": "sourceOfIncome === 'business'",
      "fields": [
        {
          "name": "companyName",
          "label": "Company/Business Name",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 100
        },
        {
          "name": "tinNumber",
          "label": "TIN Number",
          "type": "text",
          "required": true,
          "regex": "^[0-9]{10}$",
          "errorMessage": "TIN number must be 10 digits"
        },
        {
          "name": "lineOfBusiness",
          "label": "Line of Business",
          "type": "text",
          "required": true,
          "minLength": 3,
          "maxLength": 100
        },
        {
          "name": "levelOfBusiness",
          "label": "Level of Business",
          "type": "select",
          "required": true,
          "options": [
            { "value": "startup", "label": "Startup" },
            { "value": "growing", "label": "Growing" },
            { "value": "established", "label": "Established" },
            { "value": "enterprise", "label": "Enterprise" }
          ]
        },
        {
          "name": "startingCapital",
          "label": "Starting Capital (ETB)",
          "type": "number",
          "required": true,
          "min": 1000,
          "errorMessage": "Starting capital must be at least 1,000 ETB"
        },
        {
          "name": "startingEmployeeCount",
          "label": "Initial Number of Employees",
          "type": "number",
          "required": true,
          "min": 0
        },
        {
          "name": "currentEmployeeCount",
          "label": "Current Number of Employees",
          "type": "number",
          "required": true,
          "min": 0
        },
        {
          "name": "currentCapital",
          "label": "Current Capital (ETB)",
          "type": "number",
          "required": true,
          "min": 1000,
          "errorMessage": "Current capital must be at least 1,000 ETB"
        },
        {
          "name": "sourceOfInitialCapital",
          "label": "Source of Initial Capital",
          "type": "select",
          "required": true,
          "options": [
            { "value": "personal-savings", "label": "Personal Savings" },
            { "value": "family-support", "label": "Family Support" },
            { "value": "bank-loan", "label": "Bank Loan" },
            { "value": "microfinance", "label": "Microfinance" },
            { "value": "investors", "label": "Investors" },
            { "value": "government-support", "label": "Government Support" },
            { "value": "other", "label": "Other" }
          ]
        },
        {
          "name": "annualSales",
          "label": "Annual Sales (ETB)",
          "type": "number",
          "required": true,
          "min": 10000,
          "errorMessage": "Annual sales must be at least 10,000 ETB"
        },
        {
          "name": "annualProfit",
          "label": "Annual Profit (ETB)",
          "type": "number",
          "required": true
        },
        {
          "name": "monthlyIncome",
          "label": "Average Monthly Income (ETB)",
          "type": "number",
          "required": true,
          "min": 1000,
          "errorMessage": "Monthly income must be at least 1,000 ETB"
        },
        {
          "name": "description",
          "label": "Business Description",
          "type": "textarea",
          "required": true,
          "minLength": 50,
          "maxLength": 500,
          "rows": 4,
          "errorMessage": "Please provide a detailed description of your business (50-500 characters)"
        }
      ]
    },
    "bankDetails": {
      "title": "Bank Account Details",
      "fields": [
        {
          "name": "bankName",
          "label": "Bank Name",
          "type": "select",
          "required": true,
          "options": [
            { "value": "COOPBANK", "label": "Cooperative Bank of Oromia" }
          ]
        },
        {
          "name": "accountNumber",
          "label": "Account Number",
          "type": "text",
          "required": true,
          "regex": "^[0-9]{10,16}$",
          "errorMessage": "Please enter a valid account number (10-16 digits)"
        },
        {
          "name": "branchName",
          "label": "Branch Name",
          "type": "text",
          "required": true,
          "minLength": 2,
          "maxLength": 100
        },
        {
          "name": "branchCode",
          "label": "Branch Code",
          "type": "text",
          "required": true,
          "regex": "^[0-9]{3x,6}$",
          "errorMessage": "Please enter a valid branch code (3-6 digits)"
        }
      ]
    },
    "uploads": {
      "title": "Profile & Signature",
      "fields": [
        {
          "name": "profilePictureUrl",
          "label": "Profile Picture",
          "type": "file",
          "required": true,
          "acceptedFileTypes": ["image/jpeg", "image/png"],
          "maxFileSize": 2097152,
          "imageValidations": {
            "minWidth": 200,
            "minHeight": 200,
            "maxWidth": 1000,
            "maxHeight": 1000,
            "aspectRatio": "1:1"
          },
          "errorMessage": "Please upload a square profile picture (JPEG/PNG, max 2MB)"
        },
        {
          "name": "signature",
          "label": "Digital Signature",
          "type": "signature",
          "required": true,
          "errorMessage": "Please provide your signature"
        }
      ]
    },
    "formValidations": {
      "crossFieldValidations": [
        {
          "rule": "emergencyContacts[0].mobileNumber !== mobileNumber",
          "errorMessage": "Emergency contact cannot have the same mobile number as yours"
        },
        {
          "rule": "customerIdentifications.issuedDate < customerIdentifications.expiryDate",
          "errorMessage": "ID expiry date must be after the issue date"
        },
        {
          "rule": "sourceOfIncome === 'business' ? businessInfo.currentCapital >= businessInfo.startingCapital : true",
          "errorMessage": "Current capital should be greater than or equal to starting capital"
        },
        {
          "rule": "sourceOfIncome === 'employment' ? employmentInfo[0].startDate < employmentInfo[0].endDate || !employmentInfo[0].endDate : true",
          "errorMessage": "Employment end date must be after start date"
        }
      ]
    },
    "formLayout": {
      "sections": [
        "personalInformation",
        "addressInformation",
        "preferenceAndEducation",
        "identificationDocuments",
        "emergencyContacts",
        "incomeSource",
        "employmentInfo",
        "businessInfo",
        "bankDetails",
        "uploads"
      ],
      "formSubmitButton": {
        "label": "Submit Registration",
        "confirmationText": "I confirm that all information provided is accurate and complete."
      }
    }
  }
}
